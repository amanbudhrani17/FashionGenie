<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Mode</title>
    <link
      rel="shortcut icon"
      href="Images/logoFashion.jpeg"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="style4.css" />
    <link rel="stylesheet" href="style6.css" />
  </head>
  <body>
    <!-- header -->
    <header>
      <div class="nav-container">
        <div class="logo">
          <a href="AfterRegister.html">
            <h3>Fashion Genie</h3>
          </a>
        </div>
        <div class="login aimode">
          <button>AI Mode</button>
        </div>
        <div class="search">
          <div class="search-container">
            <input
              type="text"
              class="search-box"
              placeholder="Search for products, brands and more"
            />
            <button class="search-btn">
              <svg
                width="20"
                height="20"
                viewBox="0 0 17 18"
                class=""
                xmlns="http://www.w3.org/2000/svg"
              >
                <g fill="#2874F1" fill-rule="evenodd">
                  <path
                    class="_34RNph"
                    d="m11.618 9.897l4.225 4.212c.092.092.101.232.02.313l-1.465 1.46c-.081.081-.221.072-.314-.02l-4.216-4.203"
                  ></path>
                  <path
                    class="_34RNph"
                    d="m6.486 10.901c-2.42 0-4.381-1.956-4.381-4.368 0-2.413 1.961-4.369 4.381-4.369 2.42 0 4.381 1.956 4.381 4.369 0 2.413-1.961 4.368-4.381 4.368m0-10.835c-3.582 0-6.486 2.895-6.486 6.467 0 3.572 2.904 6.467 6.486 6.467 3.582 0 6.486-2.895 6.486-6.467 0-3.572-2.904-6.467-6.486-6.467"
                  ></path>
                </g>
              </svg>
            </button>
          </div>
        </div>
        <div class="cart">
          <svg
            class="V3C5bO"
            width="14"
            height="14"
            viewBox="0 0 16 16"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              class="_1bS9ic"
              d="M15.32 2.405H4.887C3 2.405 2.46.805 2.46.805L2.257.21C2.208.085 2.083 0 1.946 0H.336C.1 0-.064.24.024.46l.644 1.945L3.11 9.767c.047.137.175.23.32.23h8.418l-.493 1.958H3.768l.002.003c-.017 0-.033-.003-.05-.003-1.06 0-1.92.86-1.92 1.92s.86 1.92 1.92 1.92c.99 0 1.805-.75 1.91-1.712l5.55.076c.12.922.91 1.636 1.867 1.636 1.04 0 1.885-.844 1.885-1.885 0-.866-.584-1.593-1.38-1.814l2.423-8.832c.12-.433-.206-.86-.655-.86"
              fill="#fff"
            ></path>
          </svg>
          Cart
        </div>
      </div>
    </header>

    <section class="sectionDiv">
      <div>-</div>
    </section>
    <section class="section-4 container">
      <div class="section-4-container">
        <div class="section-4-offers">
          <div class="section-4-offers-viewall">
            <b id="prop">Products You <br>
              May Like!</b>
            <button>View All</button>
          </div>
        </div>
        <div class="section-4-list">
          <div class="section-4-item">
            <img src="RecommendImage/Blue_Tshirt.jpg" alt="" class="nishu" />
            <div class="section-4-item-head">Raplh Tshirt</div>

            <div class="section-4-item-price bhudrani">Buy ₹799</div>
          </div>
          <div class="section-4-item">
            <img src="RecommendImage/grey_jeans.jpeg" alt="" class="nishu" />
            <div class="section-4-item-head">Pepe Jeans</div>
            <div class="section-4-item-price bhudrani">Buy ₹1999</div>
          </div>
          <div class="section-4-item">
            <img src="RecommendImage/grey_Tshirt.jpeg" alt="" class="nishu" />
            <div class="section-4-item-head">Superdry Tshirt</div>
            <div class="section-4-item-price bhudrani">Buy ₹1249</div>
          </div>
          <div class="section-4-item">
            <img src="RecommendImage/grey_pant.jpg" alt="" class="nishu" />
            <div class="section-4-item-head">Rare Rabbit Chinos</div>
            <div class="section-4-item-price bhudrani">Buy ₹1599</div>
          </div>
          <div class="section-4-item">
            <img src="RecommendImage/OrangeTshirt.jpg" alt="" class="nishu" />
            <div class="section-4-item-head">Adidas Tshirt</div>
            <div class="section-4-item-price bhudrani">Buy ₹1099</div>
          </div>
        </div>
      </div>
    </section>
    <div id="my-container">
      <section class="chatForm">
        <div class="containerX">
          <h2><span style="color: #1497D4;">Mr Gene</span></h2>
          <div id="outputX"></div>
          <input
            type="text"
            id="promptInputX"
            placeholder="Enter your prompt..."
          />
          <div style="margin-top: 10px">
            <button class="buttonX" id="chatButtonX">Chat</button>
            <button class="buttonX" id="generateButtonX">Generate</button>
          </div>
        </div>
      </section>
    </div>
    <script>
      const chatButton = document.getElementById("chatButtonX");
      const generateButton = document.getElementById("generateButtonX");
      const promptInput = document.getElementById("promptInputX");
      const output = document.getElementById("outputX");
      const section4List = document.querySelector(".section-4-list");
      const chatFormSection = document.querySelector(".chatForm");
      const propElement = document.getElementById('prop');

      function replaceElementsWithButtons() {
        var bhudraniElements = document.querySelectorAll(".bhudrani");

        bhudraniElements.forEach(function (element) {
          var button = document.createElement("button");
          button.classList.add("bhudrani-button");
          button.textContent = "Recommend More";

          button.style.backgroundColor = "black";
          button.style.color = "white";
          button.style.padding = "5px";
          button.style.margin = "5px";
          button.addEventListener("click", function () {
            // console.log("hi");
            var products = [
              { imageSrc: "myImages/1.jpg", name: "Product 1 Name" },
              { imageSrc: "myImages/2.jpg", name: "Product 2 Name" },
              { imageSrc: "myImages/3.jpg", name: "Product 3 Name" },
              { imageSrc: "myImages/4.jpg", name: "Product 4 Name" },
              { imageSrc: "myImages/5.jpg", name: "Product 5 Name" },
              { imageSrc: "myImages/6.jpg", name: "Product 6 Name" },
              { imageSrc: "myImages/7.jpg", name: "Product 7 Name" },
              { imageSrc: "myImages/8.jpg", name: "Product 8 Name" },
              { imageSrc: "myImages/9.jpg", name: "Product 9 Name" },
              { imageSrc: "myImages/10.jpg", name: "Product 10 Name" },
              { imageSrc: "myImages/11.jpg", name: "Product 11 Name" },
              { imageSrc: "myImages/12.jpg", name: "Product 12 Name" },
              { imageSrc: "myImages/13.jpg", name: "Product 13 Name" },
              { imageSrc: "myImages/14.jpg", name: "Product 14 Name" },
              { imageSrc: "myImages/15.jpg", name: "Product 15 Name" },
              { imageSrc: "myImages/16.jpg", name: "Product 16 Name" },
              { imageSrc: "myImages/17.jpg", name: "Product 17 Name" },
              { imageSrc: "myImages/18.jpg", name: "Product 18 Name" },
              { imageSrc: "myImages/19.jpg", name: "Product 19 Name" },
              { imageSrc: "myImages/20.jpg", name: "Product 20 Name" },
            ];

            // Get the parent container chatForm
            var parentContainer = document.querySelector("#my-container");

            // Remove the existing .product-container if it exists
            var existingProductContainer =
              parentContainer.querySelector(".chatForm");
            if (existingProductContainer) {
              parentContainer.removeChild(existingProductContainer);
            }
            parentContainer.classList.add("product-container");
            products.forEach(function (product) {
              var productCard = document.createElement("div");
              productCard.className = "product-card";

              var productImage = document.createElement("img");
              productImage.className = "product-image";
              productImage.src = product.imageSrc;
              productImage.alt = product.name;

              var productName = document.createElement("p");
              productName.className = "product-name";
              productName.textContent = product.name;

              var buttonsDiv = document.createElement("div");
              buttonsDiv.className = "buttons";

              var addToCartButton = document.createElement("button");
              addToCartButton.className = "button add-to-cart";
              addToCartButton.textContent = "Add to Cart";

              var buyNowButton = document.createElement("button");
              buyNowButton.className = "button buy-now";
              buyNowButton.textContent = "Buy Now";

              buttonsDiv.appendChild(addToCartButton);
              buttonsDiv.appendChild(buyNowButton);

              productCard.appendChild(productImage);
              productCard.appendChild(productName);
              productCard.appendChild(buttonsDiv);

              parentContainer.appendChild(productCard);
            });
          });

          element.parentNode.replaceChild(button, element);
        });
      }

      chatButton.addEventListener("click", () => {
        const prompt = promptInput.value.trim();
        if (prompt === "") return;
        displayUserInput(prompt);
        setTimeout(() => {
          displayBotTyping();
          setTimeout(() => {
            const response = getChatbotResponse(prompt);
            displayBotResponse(response);
          }, 1000); // Adjusted to 1.3 seconds
        }, 500); // Slight delay before typing starts
      });

      generateButton.addEventListener("click", () => {
        // const prompt = promptInput.value.trim();
        // if (prompt === "") return;
        // displayUserInput(prompt);
        // setTimeout(() => {
        //   displayBotTyping();
        //   setTimeout(() => {
        //     const response = generateText(prompt);
        //     displayBotResponse(response);
        //   }, 1300); // Adjusted to 1.3 seconds
        // }, 500); // Slight delay before typing starts
        ////////////////
        propElement.textContent = 'Generated AI Image';
        var newImageSources = [
          "ImagesOnGenerate/1.jpg",
          "ImagesOnGenerate/2.jpg",
          "ImagesOnGenerate/3.jpg",
          "ImagesOnGenerate/4.jpg",
          "ImagesOnGenerate/5.jpg",
          // Add more image sources here as needed
        ];
        var nishuImages = document.querySelectorAll(".nishu");
        for (var i = 0; i < nishuImages.length; i++) {
          nishuImages[i].src = newImageSources[i % newImageSources.length]; // Cycling through the array
        }
        replaceElementsWithButtons();
      });

      function displayUserInput(prompt) {
        const userInput = `
            <p class="user-message" style="padding-bottom : 10px;"><strong>You:</strong> ${prompt}</p>
          `;
        output.innerHTML += userInput;
        promptInput.value = "";
      }

      function displayBotTyping() {
    const botTyping = `
        <p class="bot-message bot-typing" style="padding-bottom: 10px;"><strong style="color: red;">Gene:</strong> Typing...</p>
    `;
    output.innerHTML += botTyping;
    output.scrollTop = output.scrollHeight; // Scroll to bottom
}

function displayBotResponse(response) {
    const botResponse = `
        <p class="bot-message" style="padding-bottom: 10px;"><strong style="color: red;">Gene:</strong> ${response}</p>
    `;
    output.innerHTML = output.innerHTML.replace(
        '<p class="bot-message bot-typing" style="padding-bottom: 10px;"><strong style="color: red;">Gene:</strong> Typing...</p>',
        botResponse
    );
    output.scrollTop = output.scrollHeight; // Scroll to bottom
}


      function getChatbotResponse(prompt) {
        // Define predefined conversations and responses
        const conversations = {
          hello: "Hi there! How can I assist you?",
          "how are you": "I'm just a Gene, but I'm here to help!",
          "tell me a joke":
            "Sure! Why did the chicken go to the seance? To talk to the other side!",
          // You can add more conversations here
        };

        return (
          conversations[prompt.toLowerCase()] ||
          "I'm sorry, I don't understand that ."
        );
      }

      function generateText(prompt) {
        // Replace with your predefined text generation logic based on the prompt
        // Example:
        return "Based on your prompt, here's some generated text.";
      }
    </script>
  </body>
</html>
